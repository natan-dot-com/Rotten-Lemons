{"version":2,"www":"erdplus.com","shapes":[{"type":"Table","details":{"name":"Usuário","x":235,"y":186.5,"sort":"automatic","attributes":[{"names":["NomeUsuário"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"300","id":1},{"names":["éCrítico"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"Boolean","id":2},{"names":["E-mail"],"order":3,"pkMember":false,"optional":false,"soloUnique":true,"fk":false,"dataType":"varcharn","dataTypeSize":"","id":3},{"names":["DataNascimento"],"order":4,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":"","id":4},{"names":["Cargo"],"order":5,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"","id":5},{"names":["BanidoPor"],"order":6,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"","id":6}],"uniqueGroups":[],"id":1}},{"type":"Table","details":{"name":"ClassificaPor","x":509,"y":197.5,"sort":"automatic","attributes":[{"names":["Usuário"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":1},{"names":["Tag"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":13,"attributeId":1}],"id":2},{"names":["Música"],"order":3,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":27,"attributeId":2}],"id":3}],"uniqueGroups":[],"id":8}},{"type":"Table","details":{"name":"Segue","x":15,"y":205.5,"sort":"automatic","attributes":[{"names":["Seguido"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":1},{"names":["Seguidor"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":2}],"uniqueGroups":[],"id":10}},{"type":"Table","details":{"name":"Tag","x":728,"y":284.5,"sort":"automatic","attributes":[{"names":["NomeTag"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"","id":1},{"names":["RemovidoPor"],"order":2,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":2}],"uniqueGroups":[],"id":13}},{"type":"Table","details":{"name":"Playlist","x":760,"y":186.5,"sort":"automatic","attributes":[{"names":["Data/Hora"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":"","id":1},{"names":["Tag"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":13,"attributeId":1}],"id":2}],"uniqueGroups":[],"id":15}},{"type":"Table","details":{"name":"Curte","x":531,"y":129,"sort":"automatic","attributes":[{"names":["Data/Hora","Tag"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":15,"attributeId":1},{"tableId":15,"attributeId":2,"fkSubIndex":0}],"id":1},{"names":["Usuário"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":2}],"uniqueGroups":[],"id":17}},{"type":"Table","details":{"name":"Artista","x":43,"y":445.5,"sort":"automatic","attributes":[{"names":["NomeArtista"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"","id":1}],"uniqueGroups":[],"id":21}},{"type":"Table","details":{"name":"Álbum","x":240,"y":500.5,"sort":"manual","attributes":[{"names":["NomeÁlbum"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"","id":1},{"names":["Artista"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":21,"attributeId":1}],"id":2}],"uniqueGroups":[],"id":22}},{"type":"Table","details":{"name":"ParticipaÁlbum","x":33,"y":524.5,"sort":"automatic","attributes":[{"names":["NomeÁlbum","ArtistaPrincipal"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":22,"attributeId":1},{"tableId":22,"attributeId":2,"fkSubIndex":0}],"id":1},{"names":["ArtistaParticipante"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":21,"attributeId":1}],"id":2}],"uniqueGroups":[],"id":24}},{"type":"Table","details":{"name":"Música","x":674,"y":388.5,"sort":"automatic","attributes":[{"names":["NomeMúsica"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"","id":1},{"names":["ID*"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":2},{"names":["Duração"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":3},{"names":["Álbum","Artista"],"order":4,"pkMember":false,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":22,"attributeId":1},{"tableId":22,"attributeId":2,"fkSubIndex":0}],"id":4}],"uniqueGroups":[[4,1]],"id":27}},{"type":"Table","details":{"name":"PlaylistContém","x":911,"y":309,"sort":"manual","attributes":[{"names":["Música"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":27,"attributeId":2}],"id":1},{"names":["Data/Hora","Tag"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":15,"attributeId":1},{"tableId":15,"attributeId":2,"fkSubIndex":0}],"id":2}],"uniqueGroups":[],"id":29}},{"type":"Table","details":{"name":"Comentário","x":32,"y":303.5,"sort":"manual","attributes":[{"names":["Identificador"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["Data/Hora"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":2},{"names":["Tipo"],"order":4,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":3},{"names":["NomeUsuário"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":4},{"names":["RemovidoPor"],"order":5,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"none","dataTypeSize":"","id":5}],"uniqueGroups":[],"id":33}},{"type":"Table","details":{"name":"ComentárioMúsica","x":436,"y":342.5,"sort":"automatic","attributes":[{"names":["Comentário"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":33,"attributeId":1}],"id":1},{"names":["Música"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":27,"attributeId":2}],"id":2}],"uniqueGroups":[],"id":35}},{"type":"Table","details":{"name":"ComentárioÁlbum","x":455,"y":401.5,"sort":"automatic","attributes":[{"names":["Comentário"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":33,"attributeId":1}],"id":1},{"names":["Álbum","Artista"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":22,"attributeId":1},{"tableId":22,"attributeId":2,"fkSubIndex":0}],"id":2}],"uniqueGroups":[],"id":36}},{"type":"Table","details":{"name":"ComentárioArtista","x":242,"y":410.5,"sort":"manual","attributes":[{"names":["Comentário"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":33,"attributeId":1}],"id":1},{"names":["Artista"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":21,"attributeId":1}],"id":2}],"uniqueGroups":[],"id":37}},{"type":"Label","details":{"text":"(O): Atributo opcional","x":13,"y":11.5,"width":208,"height":71,"id":44}},{"type":"Label","details":{"text":"(U): Atributo único","x":13,"y":24.5,"width":233,"height":54,"id":45}},{"type":"Label","details":{"text":"(FK): Chave estrangeira","x":12,"y":38.5,"width":171,"height":50,"id":46}},{"type":"Label","details":{"text":"*A criação de ID sintético em \"Música\" se justifica com a presença de uma chave secundária com muitos atributos (composta por \"NomeMúsica\", \"NomeÁlbum\" e \"Artista\").","x":629,"y":490.5,"width":317,"height":50,"id":47}},{"type":"Label","details":{"text":"[N1]: As entidades \"ComentárioMúsica\", \"ComentárioÁlbum\" e \"ComentárioArtista\" são especializações da entidade central \"Comentário\". Essa especialização é total, que não é coberta pelo modelo relacional.","x":247,"y":6.5,"width":234,"height":78.5,"id":48}},{"type":"Label","details":{"text":"[N2]: Todo usuário seguidor precisa estar associado a um usuário seguido (não é possível que um seguidor esteja associado a nenhum usuário seguido). O modelo relacional não cobre essa limitação.","x":482,"y":5.5,"width":237,"height":71,"id":49}},{"type":"Label","details":{"text":"[N3]: Toda entidade \"Playlist\" precisa estar associada a, pelo menos, uma música. Como as playlists são geradas por tags, não é possível a existência de uma playlist vazia. O modelo relacional não cobre essa limitação.","x":723,"y":6.5,"width":236,"height":86,"id":50}},{"type":"Label","details":{"text":"[N1]","x":146,"y":398.5,"width":50,"height":50,"id":51}},{"type":"Label","details":{"text":"[N2] [N4]","x":117,"y":253.5,"width":58,"height":50,"id":52}},{"type":"Label","details":{"text":"       [N3]","x":812,"y":236.5,"width":50,"height":50,"id":53}},{"type":"Label","details":{"text":"(Ugroup): Grupo de atributos únicos","x":13,"y":52.5,"width":216,"height":50,"id":54}},{"type":"Label","details":{"text":"[N4] O ciclo de dependência do relacionamento \"Segue\" permanece. Um seguidor não pode seguir a si mesmo.","x":13,"y":91.5,"width":258,"height":53,"id":55}},{"type":"Table","details":{"name":"Avalia","x":464,"y":268.5,"sort":"manual","attributes":[{"names":["Estrelas"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["Música"],"order":2,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":27,"attributeId":2}],"id":2},{"names":["Usuário"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":3}],"uniqueGroups":[],"id":56}},{"type":"Label","details":{"text":"        [N5]","x":403,"y":301.5,"width":53,"height":50,"id":59}},{"type":"Label","details":{"text":"[N5] \"Estrelas é um atributo inteiro que varia de 1 a 5.","x":282,"y":90.5,"width":309,"height":50,"id":60}}],"connectors":[{"type":"TableConnector","details":{"fkAttributeId":1,"id":9},"source":1,"destination":8},{"type":"TableConnector","details":{"fkAttributeId":1,"id":11},"source":1,"destination":10},{"type":"TableConnector","details":{"fkAttributeId":2,"id":12},"source":1,"destination":10},{"type":"TableConnector","details":{"fkAttributeId":2,"id":14},"source":13,"destination":8},{"type":"TableConnector","details":{"fkAttributeId":2,"id":16},"source":13,"destination":15},{"type":"TableConnector","details":{"fkAttributeId":1,"id":19},"source":15,"destination":17},{"type":"TableConnector","details":{"fkAttributeId":2,"id":20},"source":1,"destination":17},{"type":"TableConnector","details":{"fkAttributeId":2,"id":23},"source":21,"destination":22},{"type":"TableConnector","details":{"fkAttributeId":1,"id":25},"source":22,"destination":24},{"type":"TableConnector","details":{"fkAttributeId":2,"id":26},"source":21,"destination":24},{"type":"TableConnector","details":{"fkAttributeId":4,"id":28},"source":22,"destination":27},{"type":"TableConnector","details":{"fkAttributeId":1,"id":30},"source":27,"destination":29},{"type":"TableConnector","details":{"fkAttributeId":2,"id":31},"source":15,"destination":29},{"type":"TableConnector","details":{"fkAttributeId":3,"id":32},"source":27,"destination":8},{"type":"TableConnector","details":{"fkAttributeId":4,"id":34},"source":1,"destination":33},{"type":"TableConnector","details":{"fkAttributeId":1,"id":38},"source":33,"destination":35},{"type":"TableConnector","details":{"fkAttributeId":2,"id":39},"source":27,"destination":35},{"type":"TableConnector","details":{"fkAttributeId":1,"id":40},"source":33,"destination":37},{"type":"TableConnector","details":{"fkAttributeId":2,"id":41},"source":21,"destination":37},{"type":"TableConnector","details":{"fkAttributeId":1,"id":42},"source":33,"destination":36},{"type":"TableConnector","details":{"fkAttributeId":2,"id":43},"source":22,"destination":36},{"type":"TableConnector","details":{"fkAttributeId":2,"id":57},"source":27,"destination":56},{"type":"TableConnector","details":{"fkAttributeId":3,"id":58},"source":1,"destination":56}],"width":2000,"height":1000}